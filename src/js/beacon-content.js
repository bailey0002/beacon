/**
 * Beacon Content Module
 * Contains the 8-week pilot study content data
 * 
 * @module beacon-content
 */

// ============================================================================
// WEEK METADATA
// ============================================================================

export const WEEKS = [
    {
        week: 1,
        title: "God's Design for Marriage",
        theme: "Understanding Marriage as Divine Institution",
        couple: "Adam & Eve",
        keyVerse: "Genesis 2:24"
    },
    {
        week: 2,
        title: "Covenant vs Contract",
        theme: "Building an Unbreakable Bond",
        couple: "Abraham & Sarah",
        keyVerse: "Malachi 2:14"
    },
    {
        week: 3,
        title: "Roles & Responsibilities",
        theme: "Serving Each Other in Love",
        couple: "Aquila & Priscilla",
        keyVerse: "Ephesians 5:21"
    },
    {
        week: 4,
        title: "Communication",
        theme: "Speaking Truth in Love",
        couple: "Isaac & Rebekah",
        keyVerse: "Proverbs 18:21"
    },
    {
        week: 5,
        title: "Conflict Resolution",
        theme: "Fighting Fair & Finding Peace",
        couple: "Jacob & Rachel",
        keyVerse: "Ephesians 4:26-27"
    },
    {
        week: 6,
        title: "Intimacy & Connection",
        theme: "Deepening Your Bond",
        couple: "Song of Solomon",
        keyVerse: "Song of Solomon 8:6-7"
    },
    {
        week: 7,
        title: "Financial Stewardship",
        theme: "Managing God's Resources Together",
        couple: "Joseph & Mary",
        keyVerse: "Proverbs 3:9-10"
    },
    {
        week: 8,
        title: "Spiritual Leadership",
        theme: "Growing Together in Faith",
        couple: "Zechariah & Elizabeth",
        keyVerse: "Joshua 24:15"
    }
];

// ============================================================================
// DAILY CONTENT STRUCTURE
// ============================================================================

export const CONTENT = {
    1: {
        1: {
            title: "The Divine Blueprint",
            scripture: "Genesis 2:18-25",
            text: "Then the Lord God said, 'It is not good that the man should be alone; I will make him a helper fit for him.'",
            devotional: "Marriage wasn't humanity's invention—it was God's first gift to mankind after life itself. Before there was sin, before there was struggle, there was marriage. God looked at Adam, complete and perfect, and said, 'not good.' Not because Adam was flawed, but because God's design for human flourishing included intimate partnership.\n\nWhen God created Eve, He didn't make a servant or a subordinate. The Hebrew word 'ezer' (helper) is the same word used to describe God Himself as our helper. Eve was Adam's equal, his complement, his divine counterpart. Together, they reflected God's image more fully than either could alone.\n\nThis is the foundation: your marriage exists because God designed it. Your spouse isn't an accident or a convenience—they are God's answer to 'not good.'",
            prompts: [
                "What does it mean to you that God designed marriage before sin entered the world?",
                "How does knowing your spouse is God's gift change how you view them today?"
            ],
            prayer: "Father, thank You for designing marriage as a gift. Help us see each other through Your eyes—as Your intentional answer to our need for partnership. Teach us to honor this divine design in how we treat each other today. Amen."
        },
        2: {
            title: "One Flesh Unity",
            scripture: "Genesis 2:24",
            text: "Therefore a man shall leave his father and his mother and hold fast to his wife, and they shall become one flesh.",
            devotional: "The 'one flesh' principle establishes three essential movements in marriage: leaving, cleaving, and weaving. Each couple must leave their family of origin—not abandoning them, but establishing their marriage as the primary human relationship. Then comes cleaving: a deliberate, daily choice to hold fast to each other. Finally, weaving: the mysterious process where two distinct individuals become one unified whole.\n\nThis unity isn't just physical—it's emotional, spiritual, and purposeful. You're no longer two people with separate agendas but one team with a shared mission. Your victories are shared. Your struggles are shared. Your growth is intertwined.\n\nConsider: Are there areas where you're still operating as individuals rather than as one? Places where 'mine' needs to become 'ours'?",
            prompts: [
                "What does 'leaving and cleaving' look like practically in your marriage?",
                "Where do you feel most unified with your spouse? Where do you feel most separate?"
            ],
            prayer: "Lord, strengthen our bond as one flesh. Show us where we're holding back from true unity. Give us courage to leave behind what hinders us and cleave more fully to each other and to You. Amen."
        },
        3: {
            title: "Reflection Day",
            scripture: "Ecclesiastes 4:9-12",
            text: "Two are better than one, because they have a good reward for their toil. For if they fall, one will lift up his fellow.",
            devotional: "Today is for reflection and personal response. Review what you've learned about God's design for marriage. Consider the foundation He's established: intentional partnership, divine complement, unified purpose.\n\nMarriage was never meant to be endured—it was meant to be a source of strength, comfort, and joy. Two are better than one not just in productivity, but in resilience, in wisdom, and in worship.",
            prompts: [
                "What aspect of God's design for marriage has impacted you most this week?",
                "What is one way you want to better reflect God's design in your marriage?"
            ],
            prayer: "Father, as we reflect on Your design, show us where we've drifted from Your intention. Renew our commitment to the marriage You envisioned for us. Amen."
        },
        4: {
            title: "Couple Discussion",
            scripture: "Amos 3:3",
            text: "Do two walk together, unless they have agreed to meet?",
            devotional: "Today is designed for conversation together. Find a quiet time—perhaps over dinner or a walk—to discuss what you've each been learning.\n\nDiscussion starters:\n• Share your answers to this week's reflection questions\n• What aspect of God's design for marriage encourages you most?\n• Where do you feel we're living into this design well?\n• Where might we grow?",
            prompts: [
                "What did you learn about your spouse's perspective this week?",
                "What is one thing you want to work on together based on this week's study?"
            ],
            prayer: "Lord, give us ears to hear each other and hearts to understand. May this conversation draw us closer to each other and to You. Amen."
        },
        5: {
            title: "Daily Challenge",
            scripture: "1 Peter 3:8",
            text: "Finally, all of you, have unity of mind, sympathy, brotherly love, a tender heart, and a humble mind.",
            devotional: "Theory becomes transformation through practice. Today's challenge: Express appreciation to your spouse in a specific, meaningful way.\n\nSteps:\n1. Think of something specific your spouse did recently that blessed you\n2. Tell them specifically what they did and why it mattered\n3. Avoid generic praise—be concrete and personal\n\nExample: Instead of 'Thanks for being great,' try 'When you got up with the baby last night without me asking, I felt so cared for and respected. Thank you for putting my rest above yours.'",
            prompts: [
                "How did your spouse respond to your specific appreciation?",
                "How did it feel to express gratitude so intentionally?"
            ],
            prayer: "Lord, open our eyes to see the good in each other. Help us express appreciation that builds up and encourages. Amen."
        },
        6: {
            title: "Going Deeper",
            scripture: "Ephesians 5:31-32",
            text: "Therefore a man shall leave his father and mother and hold fast to his wife, and the two shall become one flesh. This mystery is profound, and I am saying that it refers to Christ and the church.",
            devotional: "Paul reveals that marriage is not just about two people—it's a living picture of Christ's love for His church. This elevates marriage from contract to covenant, from arrangement to sacred mystery.\n\nEvery act of sacrificial love between spouses preaches the gospel. Every time you forgive, you display Christ's forgiveness. Every time you serve, you model Christ's service. Your marriage is meant to be an evangelistic sermon.\n\nThis is both humbling and empowering. We're not just building a family—we're displaying the glory of God.",
            prompts: [
                "How does knowing your marriage represents Christ and the church change your perspective?",
                "In what ways can your marriage more fully display Christ's love?"
            ],
            prayer: "Jesus, help us see our marriage as more than personal happiness—as a display of Your love. May others see You in how we treat each other. Amen."
        },
        7: {
            title: "Weekly Commitment",
            scripture: "Psalm 127:1",
            text: "Unless the Lord builds the house, those who build it labor in vain.",
            devotional: "As we close this week, make a commitment together. You've explored God's design—now respond to it.\n\nSuggested covenant:\n'This week, we recommit our marriage to God's original design. We acknowledge that our union is His idea, His gift, and His mission field. We commit to building our house on His foundation, trusting Him to do what we cannot.'",
            prompts: [
                "What specific commitment are you making based on this week's study?",
                "How will you hold each other accountable to this commitment?"
            ],
            prayer: "Father, we invite You to be the builder of our home. What we construct in our own strength will not last. Build in us what only You can build. We surrender our marriage to Your design. Amen."
        }
    },
    // Weeks 2-8 content would follow the same structure
    // Placeholder content for remaining weeks
    2: generatePlaceholderWeek(2, "Covenant vs Contract"),
    3: generatePlaceholderWeek(3, "Roles & Responsibilities"),
    4: generatePlaceholderWeek(4, "Communication"),
    5: generatePlaceholderWeek(5, "Conflict Resolution"),
    6: generatePlaceholderWeek(6, "Intimacy & Connection"),
    7: generatePlaceholderWeek(7, "Financial Stewardship"),
    8: generatePlaceholderWeek(8, "Spiritual Leadership")
};

/**
 * Generate placeholder content for weeks not yet fully written
 * @param {number} weekNum - Week number
 * @param {string} theme - Week theme
 * @returns {Object} Week content object
 */
function generatePlaceholderWeek(weekNum, theme) {
    const week = WEEKS.find(w => w.week === weekNum);
    return {
        1: {
            title: `Introduction to ${theme}`,
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: `This week we explore ${theme}. Full content coming soon.`,
            prompts: [
                `What does ${theme.toLowerCase()} mean to you in your marriage?`,
                "How have you seen this principle at work in your relationship?"
            ],
            prayer: "Lord, guide us as we explore this topic together. Open our hearts to Your teaching. Amen."
        },
        2: {
            title: "Day 2",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Devotional content for day 2.",
            prompts: ["Reflection prompt 1", "Reflection prompt 2"],
            prayer: "Lord, guide us today. Amen."
        },
        3: {
            title: "Reflection Day",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Take time to reflect on what you've learned so far this week.",
            prompts: ["What has stood out to you most?", "How do you want to apply this?"],
            prayer: "Lord, help us internalize what we're learning. Amen."
        },
        4: {
            title: "Couple Discussion",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Use today to discuss this week's themes together.",
            prompts: ["What are you learning about your spouse?", "What do you want to work on together?"],
            prayer: "Lord, give us good conversation. Amen."
        },
        5: {
            title: "Daily Challenge",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Put this week's principles into practice with today's challenge.",
            prompts: ["How did the challenge go?", "What did you learn?"],
            prayer: "Lord, help us live out what we're learning. Amen."
        },
        6: {
            title: "Going Deeper",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Explore the deeper theological implications of this week's theme.",
            prompts: ["What deeper truth is God revealing?", "How does this change your perspective?"],
            prayer: "Lord, take us deeper. Amen."
        },
        7: {
            title: "Weekly Commitment",
            scripture: week.keyVerse,
            text: "Scripture text for this day.",
            devotional: "Make a commitment together based on this week's study.",
            prompts: ["What commitment are you making?", "How will you follow through?"],
            prayer: "Lord, seal our commitment. Amen."
        }
    };
}

// ============================================================================
// HELPER FUNCTIONS
// ============================================================================

/**
 * Get week metadata by week number
 * @param {number} weekNum - Week number (1-8)
 * @returns {Object|undefined} Week metadata object
 */
export function getWeekMeta(weekNum) {
    return WEEKS.find(w => w.week === weekNum);
}

/**
 * Get day content for a specific week and day
 * @param {number} weekNum - Week number (1-8)
 * @param {number} dayNum - Day number (1-7)
 * @returns {Object|undefined} Day content object
 */
export function getDayContent(weekNum, dayNum) {
    return CONTENT[weekNum]?.[dayNum];
}

/**
 * Get all prompts for a specific week
 * @param {number} weekNum - Week number (1-8)
 * @returns {Array} Array of {day, promptIndex, prompt} objects
 */
export function getWeekPrompts(weekNum) {
    const weekContent = CONTENT[weekNum];
    if (!weekContent) return [];
    
    const prompts = [];
    for (let day = 1; day <= 7; day++) {
        const dayContent = weekContent[day];
        if (dayContent?.prompts) {
            dayContent.prompts.forEach((prompt, index) => {
                prompts.push({
                    week: weekNum,
                    day,
                    promptIndex: index,
                    prompt
                });
            });
        }
    }
    return prompts;
}

/**
 * Get all prompts across all weeks
 * @returns {Array} Array of all prompt objects
 */
export function getAllPrompts() {
    const allPrompts = [];
    for (let week = 1; week <= 8; week++) {
        allPrompts.push(...getWeekPrompts(week));
    }
    return allPrompts;
}

/**
 * Get day type label
 * @param {number} dayNum - Day number (1-7)
 * @returns {string} Day type label
 */
export function getDayTypeLabel(dayNum) {
    const types = {
        1: 'Introduction',
        2: 'Deep Dive',
        3: 'Reflection',
        4: 'Discussion',
        5: 'Challenge',
        6: 'Going Deeper',
        7: 'Commitment'
    };
    return types[dayNum] || 'Day ' + dayNum;
}

/**
 * Get short day name for tabs
 * @param {number} dayNum - Day number (1-7)
 * @returns {string} Short day name
 */
export function getShortDayName(dayNum) {
    const names = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    return names[dayNum - 1] || 'Day ' + dayNum;
}
